<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Budget Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f8fafc;
      margin: 20px;
      color: #333;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .back-button {
      background-color: #3b82f6;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
    }

    .reset-button {
      color: #ef4444;
      border: none;
      background: none;
      cursor: pointer;
    }

    .section {
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .add-button {
      background-color: #22c55e;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th {
      background-color: #f8fafc;
      padding: 12px;
      text-align: left;
      font-weight: 500;
      color: #64748b;
      border-bottom: 1px solid #e2e8f0;
    }

    td {
      padding: 12px;
      border-bottom: 1px solid #e2e8f0;
    }

    .delete-button {
      color: #ef4444;
      border: none;
      background: none;
      cursor: pointer;
    }

    input, select {
      padding: 8px;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      margin-right: 8px;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-top: 30px;
    }

    .summary-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .card-title {
      color: #64748b;
      font-size: 0.875rem;
      margin-bottom: 8px;
    }

    .card-amount {
      font-size: 1.5rem;
      font-weight: bold;
    }

    .amount-green { color: #22c55e; }
    .amount-red { color: #ef4444; }
    .amount-blue { color: #3b82f6; }
    .amount-purple { color: #a855f7; }

    .dollar-sign {
      display: inline-block;
      width: 20px;
    }
  </style>
</head>
<body>
  <div class="header">
    <div>
      <a href="#" class="back-button">Back to Home</a>
      <h1 style="display: inline-block; margin-left: 20px;">Budget Tracker</h1>
    </div>
    <button class="reset-button" onclick="resetAllData()">Reset All Data</button>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>Income Sources</h2>
      <button class="add-button" onclick="addIncomeSource()">Add Income Source</button>
    </div>
    <table id="incomeTable">
      <thead>
        <tr>
          <th>SOURCE NAME</th>
          <th>AMOUNT</th>
          <th>FREQUENCY</th>
          <th>MONTHLY TOTAL</th>
          <th>ACTIONS</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>Expenses</h2>
      <button class="add-button" onclick="addExpenseRow()">Add Expense</button>
    </div>
    <table id="expenseTable">
      <thead>
        <tr>
          <th>EXPENSE NAME</th>
          <th>TOTAL AMOUNT</th>
          <th>YOUR PORTION (%)</th>
          <th>MONTHLY</th>
          <th>PER PAYCHECK</th>
          <th>ACTIONS</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="summary-grid">
    <div class="summary-card">
      <div class="card-title">Total Monthly Income</div>
      <div class="card-amount amount-green" id="totalMonthlyIncome">$14000.00</div>
    </div>
    <div class="summary-card">
      <div class="card-title">Monthly Expenses</div>
      <div class="card-amount amount-red" id="totalMonthlyExpenses">$2650.00</div>
    </div>
    <div class="summary-card">
      <div class="card-title">Average Per Paycheck</div>
      <div class="card-amount amount-blue" id="averagePerPaycheck">$7000.00</div>
    </div>
    <div class="summary-card">
      <div class="card-title">Leftover Per Paycheck</div>
      <div class="card-amount amount-purple" id="leftoverPerPaycheck">$5675.00</div>
    </div>
  </div>

  <script>
    // Income table functionality
    function addIncomeSource() {
      const tbody = document.querySelector('#incomeTable tbody');
      const row = document.createElement('tr');
      row.innerHTML = `
        <td><input type="text" class="income-name" placeholder="Income source name"></td>
        <td><span class="dollar-sign">$</span><input type="number" class="income-amount" step="0.01"></td>
        <td>
          <select class="income-frequency">
            <option value="monthly">Monthly (1 per month)</option>
            <option value="everyOtherWeek">Every other week (2 per month)</option>
            <option value="weekly">Weekly (4 per month)</option>
            <option value="twiceWeek">Twice a week (8 per month)</option>
          </select>
        </td>
        <td class="monthly-total">$0.00</td>
        <td><button class="delete-button" onclick="this.closest('tr').remove(); calculateTotals();">Delete</button></td>
      `;
      tbody.appendChild(row);
      attachIncomeListeners(row);
    }

    function attachIncomeListeners(row) {
      const inputs = row.querySelectorAll('input, select');
      inputs.forEach(input => {
        input.addEventListener('change', calculateTotals);
        input.addEventListener('input', calculateTotals);
      });
    }

    // Expense table functionality
    function addExpenseRow() {
      const tbody = document.querySelector('#expenseTable tbody');
      const row = document.createElement('tr');
      row.innerHTML = `
        <td><input type="text" class="expense-name" placeholder="Expense name"></td>
        <td><span class="dollar-sign">$</span><input type="number" class="expense-amount" step="0.01"></td>
        <td><input type="number" class="expense-portion" step="0.01" value="100"><span>%</span></td>
        <td class="monthly-expense">$0.00</td>
        <td class="per-paycheck-expense">$0.00</td>
        <td><button class="delete-button" onclick="this.closest('tr').remove(); calculateTotals();">Delete</button></td>
      `;
      tbody.appendChild(row);
      attachExpenseListeners(row);
    }

    function attachExpenseListeners(row) {
      const inputs = row.querySelectorAll('input');
      inputs.forEach(input => {
        input.addEventListener('change', calculateTotals);
        input.addEventListener('input', calculateTotals);
      });
    }

    function calculateTotals() {
      let totalMonthlyIncome = 0;
      let totalMonthlyExpenses = 0;

      // Calculate income
      document.querySelectorAll('#incomeTable tbody tr').forEach(row => {
        const amount = parseFloat(row.querySelector('.income-amount').value) || 0;
        const frequency = row.querySelector('.income-frequency').value;
        let monthlyAmount = amount;
        
        switch(frequency) {
          case 'weekly': monthlyAmount *= 4; break;
          case 'twiceWeek': monthlyAmount *= 8; break;
          case 'everyOtherWeek': monthlyAmount *= 2; break;
        }

        row.querySelector('.monthly-total').textContent = `$${monthlyAmount.toFixed(2)}`;
        totalMonthlyIncome += monthlyAmount;
      });

      // Calculate expenses
      document.querySelectorAll('#expenseTable tbody tr').forEach(row => {
        const amount = parseFloat(row.querySelector('.expense-amount').value) || 0;
        const portion = parseFloat(row.querySelector('.expense-portion').value) || 0;
        const monthlyExpense = amount * (portion / 100);
        const perPaycheckExpense = monthlyExpense / 2; // Assuming bi-weekly pay

        row.querySelector('.monthly-expense').textContent = `$${monthlyExpense.toFixed(2)}`;
        row.querySelector('.per-paycheck-expense').textContent = `$${perPaycheckExpense.toFixed(2)}`;
        totalMonthlyExpenses += monthlyExpense;
      });

      // Update summary cards
      document.getElementById('totalMonthlyIncome').textContent = `$${totalMonthlyIncome.toFixed(2)}`;
      document.getElementById('totalMonthlyExpenses').textContent = `$${totalMonthlyExpenses.toFixed(2)}`;
      document.getElementById('averagePerPaycheck').textContent = `$${(totalMonthlyIncome / 2).toFixed(2)}`;
      document.getElementById('leftoverPerPaycheck').textContent = `$${((totalMonthlyIncome - totalMonthlyExpenses) / 2).toFixed(2)}`;
    }

    function resetAllData() {
      if (confirm('Are you sure you want to reset all data? This cannot be undone.')) {
        document.querySelector('#incomeTable tbody').innerHTML = '';
        document.querySelector('#expenseTable tbody').innerHTML = '';
        calculateTotals();
      }
    }

    // Initialize with empty state
    calculateTotals();
  </script>
</body>
</html>