<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Budget Tracker</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, sans-serif;
      background-color: #f8fafc;
      margin: 0;
      padding: 20px;
      color: #333;
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .back-button {
      background-color: #3b82f6;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      font-weight: 500;
    }

    .reset-button {
      color: #ef4444;
      border: none;
      background: none;
      cursor: pointer;
      font-weight: 500;
    }

    h1 {
      color: #1e293b;
      font-weight: 500;
      font-size: 24px;
      margin: 0;
      margin-left: 20px;
      display: inline-block;
    }

    .section {
      background: white;
      border-radius: 8px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .section-header h2 {
      font-weight: 500;
      font-size: 18px;
      margin: 0;
      color: #1e293b;
    }

    .add-button {
      background-color: #22c55e;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 500;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th {
      text-transform: uppercase;
      font-weight: 500;
      color: #64748b;
      font-size: 12px;
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #e2e8f0;
      background: none;
    }

    td {
      padding: 12px;
      border-bottom: 1px solid #e2e8f0;
    }

    input, select {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      font-size: 14px;
      color: #1e293b;
    }

    select {
      background-color: white;
    }

    .amount-input {
      position: relative;
    }

    .amount-input span {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: #64748b;
    }

    .amount-input input {
      padding-left: 24px;
    }

    .delete-button {
      color: #ef4444;
      border: none;
      background: none;
      cursor: pointer;
      font-weight: 500;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }

    .summary-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .card-title {
      color: #64748b;
      font-size: 14px;
      margin-bottom: 8px;
      font-weight: 500;
    }

    .card-amount {
      font-size: 24px;
      font-weight: 600;
    }

    .amount-green { color: #22c55e; }
    .amount-red { color: #ef4444; }
    .amount-blue { color: #3b82f6; }
    .amount-purple { color: #a855f7; }
  </style>
</head>
<body>
  <div class="header">
    <div>
      <a href="#" class="back-button">Back to Home</a>
      <h1>Budget Tracker</h1>
    </div>
    <button class="reset-button" onclick="resetAllData()">Reset All Data</button>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>Income Sources</h2>
      <button class="add-button" onclick="addIncomeSource()">Add Income Source</button>
    </div>
    <table id="incomeTable">
      <thead>
        <tr>
          <th>Source Name</th>
          <th>Amount</th>
          <th>Frequency</th>
          <th>Monthly Total</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>Expenses</h2>
      <button class="add-button" onclick="addExpenseRow()">Add Expense</button>
    </div>
    <table id="expenseTable">
      <thead>
        <tr>
          <th>Expense Name</th>
          <th>Total Amount</th>
          <th>Your Portion (%)</th>
          <th>Monthly</th>
          <th>Per Paycheck</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="summary-grid">
    <div class="summary-card">
      <div class="card-title">Total Monthly Income</div>
      <div class="card-amount amount-green" id="monthlyIncome">$0.00</div>
    </div>
    <div class="summary-card">
      <div class="card-title">Monthly Expenses</div>
      <div class="card-amount amount-red" id="monthlyExpenses">$0.00</div>
    </div>
    <div class="summary-card">
      <div class="card-title">Average Per Paycheck</div>
      <div class="card-amount amount-blue" id="calculatedPaycheck">$0.00</div>
    </div>
    <div class="summary-card">
      <div class="card-title">Leftover Per Paycheck</div>
      <div class="card-amount amount-purple" id="leftoverPerPaycheck">$0.00</div>
    </div>
  </div>

  <script>
    // Function to add a new income source row
    function addIncomeSource() {
      const tbody = document.querySelector('#incomeTable tbody');
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>
          <input type="text" class="income-name" placeholder="Income source name">
        </td>
        <td class="amount-input">
          <span>$</span>
          <input type="number" class="income-amount" step="0.01" placeholder="0.00">
        </td>
        <td>
          <select class="income-frequency">
            <option value="monthly">Monthly (1 per month)</option>
            <option value="everyOtherWeek">Every other week (2 per month)</option>
            <option value="weekly">Weekly (4 per month)</option>
            <option value="twiceWeek">Twice a week (8 per month)</option>
          </select>
        </td>
        <td class="monthly-total">$0.00</td>
        <td>
          <button class="delete-button" onclick="removeRow(this)">Delete</button>
        </td>
      `;
      tbody.appendChild(row);
      attachListeners(row);
    }

    // Function to add a new expense row
    function addExpenseRow() {
      const tbody = document.querySelector('#expenseTable tbody');
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>
          <input type="text" class="expense-name" placeholder="Expense name">
        </td>
        <td class="amount-input">
          <span>$</span>
          <input type="number" class="expense-amount" step="0.01" placeholder="0.00">
        </td>
        <td>
          <input type="number" class="expense-portion" step="0.01" value="100" min="0" max="100">
        </td>
        <td class="monthly-expense">$0.00</td>
        <td class="per-paycheck-expense">$0.00</td>
        <td>
          <button class="delete-button" onclick="removeRow(this)">Delete</button>
        </td>
      `;
      tbody.appendChild(row);
      attachListeners(row);
    }

    // Function to remove a row and recalculate
    function removeRow(button) {
      const row = button.closest('tr');
      row.remove();
      calculateTotals();
    }

    // Function to attach input listeners to a row
    function attachListeners(row) {
      row.querySelectorAll('input, select').forEach(input => {
        input.addEventListener('input', calculateTotals);
        input.addEventListener('change', calculateTotals);
      });
    }

    // Calculate frequency multiplier
    function getFrequencyMultiplier(frequency) {
      switch(frequency) {
        case 'weekly': return 4;
        case 'twiceWeek': return 8;
        case 'everyOtherWeek': return 2;
        case 'monthly': return 1;
        default: return 1;
      }
    }

    // Function to calculate all totals
    function calculateTotals() {
      let totalMonthlyIncome = 0;
      let totalMonthlyExpenses = 0;

      // Calculate income
      document.querySelectorAll('#incomeTable tbody tr').forEach(row => {
        const amount = parseFloat(row.querySelector('.income-amount').value) || 0;
        const frequency = row.querySelector('.income-frequency').value;
        const monthlyAmount = amount * getFrequencyMultiplier(frequency);
        
        row.querySelector('.monthly-total').textContent = `$${monthlyAmount.toFixed(2)}`;
        totalMonthlyIncome += monthlyAmount;
      });

      // Calculate expenses
      document.querySelectorAll('#expenseTable tbody tr').forEach(row => {
        const amount = parseFloat(row.querySelector('.expense-amount').value) || 0;
        const portion = parseFloat(row.querySelector('.expense-portion').value) || 0;
        const monthlyExpense = amount * (portion / 100);
        const perPaycheckExpense = monthlyExpense / 2; // Assuming bi-weekly pay

        row.querySelector('.monthly-expense').textContent = `$${monthlyExpense.toFixed(2)}`;
        row.querySelector('.per-paycheck-expense').textContent = `$${perPaycheckExpense.toFixed(2)}`;
        totalMonthlyExpenses += monthlyExpense;
      });

      // Update summary cards
      document.getElementById('monthlyIncome').textContent = `$${totalMonthlyIncome.toFixed(2)}`;
      document.getElementById('monthlyExpenses').textContent = `$${totalMonthlyExpenses.toFixed(2)}`;
      document.getElementById('calculatedPaycheck').textContent = `$${(totalMonthlyIncome / 2).toFixed(2)}`;
      document.getElementById('leftoverPerPaycheck').textContent = 
        `$${((totalMonthlyIncome - totalMonthlyExpenses) / 2).toFixed(2)}`;
    }

    // Function to reset all data
    function resetAllData() {
      if (confirm('Are you sure you want to reset all data? This cannot be undone.')) {
        document.querySelector('#incomeTable tbody').innerHTML = '';
        document.querySelector('#expenseTable tbody').innerHTML = '';
        calculateTotals();
      }
    }

    // Initialize calculations
    calculateTotals();
  </script>
</body>
</html>